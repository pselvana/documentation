As data in object storage grows, the metadata for it grows. To support efficient long-term data retention, Redpanda splits the metadata in object storage, maintaining metadata of only recently-updated segments in memory or local disk, while safely archiving the remaining metadata in object storage and caching it locally on disk. Archived metadata is then loaded only when historical data is accessed. This allows Tiered Storage to handle partitions of virtually any size or retention length.

Metadata archive storage is configurable. The `cloud_storage_target_manifest_size_bytes` property sets the target size (in bytes) of the metadata archive in object storage. To access data in the archive, Redpanda uses a `ListObjectsV2` API request to fetch a list of external manifests, which are used to access individual segments. 